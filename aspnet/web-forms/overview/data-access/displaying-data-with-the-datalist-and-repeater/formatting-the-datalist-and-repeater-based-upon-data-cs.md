---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs
title: DataList ve Repeater 'ı verileri temel alarak biçimlendirme (C#) | Microsoft Docs
author: rick-anderson
description: Bu öğreticide, ile biçimlendirme işlevleri kullanarak DataList ve Repeater denetimlerinin görünümünü nasıl biçimlendirdiğimiz hakkında örnek adım adım göstereceğiz...
ms.author: riande
ms.date: 09/13/2006
ms.assetid: 83e3d759-82b8-41e6-8d62-f0f4b3edec41
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 68de3450ed97fc7bd0efb27e089d9db8e3e85fb0
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78611638"
---
# <a name="formatting-the-datalist-and-repeater-based-upon-data-c"></a><span data-ttu-id="37c1a-103">DataList ve Repeater’ı Verileri Temel Alarak Biçimlendirme (C#)</span><span class="sxs-lookup"><span data-stu-id="37c1a-103">Formatting the DataList and Repeater Based Upon Data (C#)</span></span>

<span data-ttu-id="37c1a-104">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="37c1a-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="37c1a-105">[Örnek uygulamayı indirin](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_30_CS.exe) veya [PDF 'yi indirin](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/datatutorial30cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="37c1a-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_30_CS.exe) or [Download PDF](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/datatutorial30cs1.pdf)</span></span>

> <span data-ttu-id="37c1a-106">Bu öğreticide, şablonlar içindeki biçimlendirme işlevlerini kullanarak ya da veri bağlama olayını işleyerek DataList ve Repeater denetimlerinin görünümünü nasıl biçimlendirdiğimiz hakkında örnekler bulacaksınız.</span><span class="sxs-lookup"><span data-stu-id="37c1a-106">In this tutorial we'll step through examples of how we format the appearance of the DataList and Repeater controls, either by using formatting functions within templates or by handling the DataBound event.</span></span>

## <a name="introduction"></a><span data-ttu-id="37c1a-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="37c1a-107">Introduction</span></span>

<span data-ttu-id="37c1a-108">Önceki öğreticide gördüğünüz gibi DataList, görünümünü etkileyen bir dizi stille ilgili özellik sunar.</span><span class="sxs-lookup"><span data-stu-id="37c1a-108">As we saw in the preceding tutorial, the DataList offers a number of style-related properties that affect its appearance.</span></span> <span data-ttu-id="37c1a-109">Özellikle, DataList s `HeaderStyle`, `ItemStyle`, `AlternatingItemStyle`ve `SelectedItemStyle` özelliklerine varsayılan CSS sınıflarının nasıl atanacağını gördük.</span><span class="sxs-lookup"><span data-stu-id="37c1a-109">In particular, we saw how to assign default CSS classes to the DataList s `HeaderStyle`, `ItemStyle`, `AlternatingItemStyle`, and `SelectedItemStyle` properties.</span></span> <span data-ttu-id="37c1a-110">Bu dört özelliğe ek olarak, DataList `Font`, `ForeColor`, `BackColor`ve `BorderWidth`gibi diğer stille ilgili birçok özelliği içerir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-110">In addition to these four properties, the DataList includes a number of other style-related properties, such as `Font`, `ForeColor`, `BackColor`, and `BorderWidth`, to name a few.</span></span> <span data-ttu-id="37c1a-111">Yineleyici denetimi stille ilgili herhangi bir özellik içermiyor.</span><span class="sxs-lookup"><span data-stu-id="37c1a-111">The Repeater control does not contain any style-related properties.</span></span> <span data-ttu-id="37c1a-112">Bu tür stil ayarları, yineleyici s şablonlarındaki biçimlendirme dahilinde doğrudan yapılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-112">Any such style settings must be made directly within the markup in the Repeater s templates.</span></span>

<span data-ttu-id="37c1a-113">Genellikle, verilerin biçimlendirilmesi, verilerin kendine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-113">Often, though, how data should be formatted depends on the data itself.</span></span> <span data-ttu-id="37c1a-114">Örneğin, ürünler listelenirken, ürün bilgilerini açık gri yazı tipi renginde göstermek isteyebilir veya sıfır ise `UnitsInStock` değerini vurgulamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-114">For example, when listing products we might want to display the product information in a light gray font color if it is discontinued, or we may want to highlight the `UnitsInStock` value if it is zero.</span></span> <span data-ttu-id="37c1a-115">Önceki öğreticilerde gördüğünüz gibi, GridView, DetailsView ve FormView, görünümlerini verilerine göre biçimlendirmek için iki farklı yol sunar:</span><span class="sxs-lookup"><span data-stu-id="37c1a-115">As we saw in previous tutorials, the GridView, DetailsView, and FormView offer two distinct ways to format their appearance based on their data:</span></span>

- <span data-ttu-id="37c1a-116">**`DataBound` olay** , veriler her bir öğeye bağlandıktan sonra tetiklenen uygun `DataBound` olayı için bir olay işleyicisi oluşturur (GridView için `RowDataBound` olayıdır; DataList ve Repeater için `ItemDataBound` olayıdır).</span><span class="sxs-lookup"><span data-stu-id="37c1a-116">**The `DataBound` event** create an event handler for the appropriate `DataBound` event, which fires after the data has been bound to each item (for the GridView it was the `RowDataBound` event; for the DataList and Repeater it is the `ItemDataBound` event).</span></span> <span data-ttu-id="37c1a-117">Bu olay işleyicisinde, yalnızca bağlanan veriler incelenir ve yapılan kararlar değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-117">In that event handler, the data just bound can be examined and formatting decisions made.</span></span> <span data-ttu-id="37c1a-118">Bu tekniği, veri öğreticisine [göre özel biçimlendirme](../custom-formatting/custom-formatting-based-upon-data-cs.md) içinde inceledik.</span><span class="sxs-lookup"><span data-stu-id="37c1a-118">We examined this technique in the [Custom Formatting Based Upon Data](../custom-formatting/custom-formatting-based-upon-data-cs.md) tutorial.</span></span>
- <span data-ttu-id="37c1a-119">**Şablonlarındaki işlevleri** , DetailsView veya GridView denetimlerinde templatefields kullanırken veya FormView denetimindeki bir şablonda biçimlendirmek için, ASP.net Page s Code-Behind sınıfına, Iş mantığı katmanına veya Web uygulamasından erişilebilen herhangi bir sınıf kitaplığına biçimlendirme işlevi ekleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-119">**Formatting Functions in Templates** when using TemplateFields in the DetailsView or GridView controls, or a template in the FormView control, we can add a formatting function to the ASP.NET page s code-behind class, the Business Logic Layer, or any other class library that is accessible from the web application.</span></span> <span data-ttu-id="37c1a-120">Bu biçimlendirme işlevi rastgele sayıda giriş parametresini kabul edebilir, ancak şablonda işlenecek HTML 'yi döndürmelidir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-120">This formatting function can accept an arbitrary number of input parameters, but must return the HTML to render in the template.</span></span> <span data-ttu-id="37c1a-121">Biçimlendirme işlevleri ilk olarak [GridView denetim öğreticisindeki TemplateFields kullanılarak](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) incelendi.</span><span class="sxs-lookup"><span data-stu-id="37c1a-121">Formatting functions were first examined in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span>

<span data-ttu-id="37c1a-122">Bu biçimlendirme tekniklerinin her ikisi de DataList ve Repeater denetimleri ile kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-122">Both of these formatting techniques are available with the DataList and Repeater controls.</span></span> <span data-ttu-id="37c1a-123">Bu öğreticide her iki denetim için de her iki tekniği kullanan örneklerde adım adım ilerleriz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-123">In this tutorial we'll step through examples using both techniques for both controls.</span></span>

## <a name="using-theitemdataboundevent-handler"></a><span data-ttu-id="37c1a-124">`ItemDataBound`olay Işleyicisini kullanma</span><span class="sxs-lookup"><span data-stu-id="37c1a-124">Using the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="37c1a-125">Veriler bir DataList 'e bağlandığında, bir veri kaynağı denetiminden ya da denetim s `DataSource` özelliğine veri atayarak ve `DataBind()` metodunu çağırarak, DataList s `DataBinding` olayı ateşlenir, numaralandırılan veri kaynağı ve her veri kaydı DataList 'e bağlanır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-125">When data is bound to a DataList, either from a data source control or through programmatically assigning data to the control s `DataSource` property and calling its `DataBind()` method, the DataList s `DataBinding` event fires, the data source enumerated, and each data record is bound to the DataList.</span></span> <span data-ttu-id="37c1a-126">Veri kaynağındaki her kayıt için DataList, geçerli kayda bağlanan bir [`DataListItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.aspx) nesnesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="37c1a-126">For each record in the data source, the DataList creates a [`DataListItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.aspx) object that is then bound to the current record.</span></span> <span data-ttu-id="37c1a-127">Bu işlem sırasında, DataList iki olay oluşturur:</span><span class="sxs-lookup"><span data-stu-id="37c1a-127">During this process, the DataList raises two events:</span></span>

- <span data-ttu-id="37c1a-128">`DataListItem` oluşturulduktan sonra **`ItemCreated`** ateşlenir</span><span class="sxs-lookup"><span data-stu-id="37c1a-128">**`ItemCreated`** fires after the `DataListItem` has been created</span></span>
- <span data-ttu-id="37c1a-129">**`ItemDataBound`** geçerli kayıt `DataListItem` bağlandıktan sonra ateşlenir</span><span class="sxs-lookup"><span data-stu-id="37c1a-129">**`ItemDataBound`** fires after the current record has been bound to the `DataListItem`</span></span>

<span data-ttu-id="37c1a-130">Aşağıdaki adımlarda, DataList denetimi için veri bağlama işlemi ana hatlarıyla verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-130">The following steps outline the data binding process for the DataList control.</span></span>

1. <span data-ttu-id="37c1a-131">DataList s [`DataBinding` olayı](https://msdn.microsoft.com/library/system.web.ui.control.databinding.aspx) ateşlenir</span><span class="sxs-lookup"><span data-stu-id="37c1a-131">The DataList s [`DataBinding` event](https://msdn.microsoft.com/library/system.web.ui.control.databinding.aspx) fires</span></span>
2. <span data-ttu-id="37c1a-132">Veriler DataList 'e bağlanır</span><span class="sxs-lookup"><span data-stu-id="37c1a-132">The data is bound to the DataList</span></span>  
  
   <span data-ttu-id="37c1a-133">Veri kaynağındaki her kayıt için</span><span class="sxs-lookup"><span data-stu-id="37c1a-133">For each record in the data source</span></span> 

    1. <span data-ttu-id="37c1a-134">`DataListItem` nesnesi oluşturma</span><span class="sxs-lookup"><span data-stu-id="37c1a-134">Create a `DataListItem` object</span></span>
    2. <span data-ttu-id="37c1a-135">[`ItemCreated` olayını](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemcreated.aspx) harekete geçirme</span><span class="sxs-lookup"><span data-stu-id="37c1a-135">Fire the [`ItemCreated` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemcreated.aspx)</span></span>
    3. <span data-ttu-id="37c1a-136">Kaydı `DataListItem` bağlayın</span><span class="sxs-lookup"><span data-stu-id="37c1a-136">Bind the record to the `DataListItem`</span></span>
    4. <span data-ttu-id="37c1a-137">[`ItemDataBound` olayını](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemdatabound.aspx) harekete geçirme</span><span class="sxs-lookup"><span data-stu-id="37c1a-137">Fire the [`ItemDataBound` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemdatabound.aspx)</span></span>
    5. <span data-ttu-id="37c1a-138">`DataListItem` `Items` koleksiyonuna ekleyin</span><span class="sxs-lookup"><span data-stu-id="37c1a-138">Add the `DataListItem` to the `Items` collection</span></span>

<span data-ttu-id="37c1a-139">Yineleyici denetimine veri bağlarken, tam olarak aynı adım dizisi üzerinden ilerler.</span><span class="sxs-lookup"><span data-stu-id="37c1a-139">When binding data to the Repeater control, it progresses through the exact same sequence of steps.</span></span> <span data-ttu-id="37c1a-140">Tek fark, `DataListItem` örnekleri oluşturulması yerine Repeater 'ın [`RepeaterItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem(VS.80).aspx)s kullanır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-140">The only difference is that instead of `DataListItem` instances being created, the Repeater uses [`RepeaterItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem(VS.80).aspx)s.</span></span>

> [!NOTE]
> <span data-ttu-id="37c1a-141">Kurnaz okuyucusu, GridView 'un verilere bağlanması halinde DataList ve Repeater verileri veriye bağlandığında, transpire olan adım sırası arasında hafif bir anomali olduğunu fark etmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-141">The astute reader may have noticed a slight anomaly between the sequence of steps that transpire when the DataList and Repeater are bound to data versus when the GridView is bound to data.</span></span> <span data-ttu-id="37c1a-142">Veri bağlama işleminin kuyruk sonunda, GridView `DataBound` olayını oluşturur; Ancak, DataList veya Repeater denetiminin böyle bir olayı yoktur.</span><span class="sxs-lookup"><span data-stu-id="37c1a-142">At the tail end of the data binding process, the GridView raises the `DataBound` event; however, neither the DataList nor Repeater control have such an event.</span></span> <span data-ttu-id="37c1a-143">Bunun nedeni, DataList ve Repeater denetimlerinin, ön ve son düzey olay işleyicisi deseninin ortak hale gelmesi için ASP.NET 1. x zaman diliminde yeniden oluşturulmuş olmasından kaynaklanır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-143">This is because the DataList and Repeater controls were created back in the ASP.NET 1.x timeframe, before the pre- and post-level event handler pattern had become common.</span></span>

<span data-ttu-id="37c1a-144">GridView ile tıpkı, verileri temel alan biçimlendirme için bir seçenek, `ItemDataBound` olayı için bir olay işleyicisi oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-144">Like with the GridView, one option for formatting based on the data is to create an event handler for the `ItemDataBound` event.</span></span> <span data-ttu-id="37c1a-145">Bu olay işleyicisi, `DataListItem` veya `RepeaterItem` daha önce bağlanan verileri inceleyebilir ve denetimin biçimlendirmesini gerektiği şekilde etkiler.</span><span class="sxs-lookup"><span data-stu-id="37c1a-145">This event handler would inspect the data that had just been bound to the `DataListItem` or `RepeaterItem` and affect the formatting of the control as needed.</span></span>

<span data-ttu-id="37c1a-146">DataList denetimi için tüm öğe için biçimlendirme değişiklikleri, standart `Font`, `ForeColor`, `BackColor`, `CssClass`vb. dahil olmak üzere `DataListItem` s stiliyle ilgili özellikler kullanılarak uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-146">For the DataList control, formatting changes for the entire item can be implemented using the `DataListItem` s style-related properties, which include the standard `Font`, `ForeColor`, `BackColor`, `CssClass`, and so on.</span></span> <span data-ttu-id="37c1a-147">DataList s şablonundaki belirli Web denetimlerinin biçimlendirmesini etkilemek için, bu Web denetimlerinin stilini programlı bir şekilde erişmesi ve bunları değiştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-147">To affect the formatting of particular Web controls within the DataList s template, we need to programmatically access and modify the style of those Web controls.</span></span> <span data-ttu-id="37c1a-148">Bu geri alma, veri öğreticisine *göre özel biçimlendirme* içinde nasıl gerçekleştirileceğini gördük.</span><span class="sxs-lookup"><span data-stu-id="37c1a-148">We saw how to accomplish this back in the *Custom Formatting Based Upon Data* tutorial.</span></span> <span data-ttu-id="37c1a-149">Yineleyici denetimi gibi, `RepeaterItem` sınıfında stille ilgili özellikler yoktur; Bu nedenle, `ItemDataBound` olay işleyicisindeki bir `RepeaterItem` yapılan tüm stille ilgili değişiklikler, programlı olarak şablon içindeki Web denetimlerine erişerek ve güncelleştirerek yapılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-149">Like the Repeater control, the `RepeaterItem` class has no style-related properties; therefore, all style-related changes made to a `RepeaterItem` in the `ItemDataBound` event handler must be done by programmatically accessing and updating Web controls within the template.</span></span>

<span data-ttu-id="37c1a-150">DataList ve Repeater 'ın `ItemDataBound` biçimlendirme tekniği neredeyse aynı olduğundan, örneğimiz DataList 'i kullanmaya odaklanacaktır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-150">Since the `ItemDataBound` formatting technique for the DataList and Repeater are virtually identical, our example will focus on using the DataList.</span></span>

## <a name="step-1-displaying-product-information-in-the-datalist"></a><span data-ttu-id="37c1a-151">1\. Adım: ürün bilgilerini DataList 'te görüntüleme</span><span class="sxs-lookup"><span data-stu-id="37c1a-151">Step 1: Displaying Product Information in the DataList</span></span>

<span data-ttu-id="37c1a-152">Biçimlendirme hakkında kaygılanmadan önce, ilk olarak ürün bilgilerini göstermek için DataList kullanan bir sayfa oluşturalım.</span><span class="sxs-lookup"><span data-stu-id="37c1a-152">Before we worry about the formatting, let s first create a page that uses a DataList to display product information.</span></span> <span data-ttu-id="37c1a-153">[Önceki öğreticide](displaying-data-with-the-datalist-and-repeater-controls-cs.md) , `ItemTemplate` her ürünün adı, kategorisi, tedarikçisini, birim başına miktarı ve fiyatı Içeren bir DataList oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="37c1a-153">In the [previous tutorial](displaying-data-with-the-datalist-and-repeater-controls-cs.md) we created a DataList whose `ItemTemplate` displayed each product s name, category, supplier, quantity per unit, and price.</span></span> <span data-ttu-id="37c1a-154">Bu öğreticide bu işlevselliği tekrarlamasına izin verin.</span><span class="sxs-lookup"><span data-stu-id="37c1a-154">Let s repeat this functionality here in this tutorial.</span></span> <span data-ttu-id="37c1a-155">Bunu gerçekleştirmek için, DataList ve ObjectDataSource 'u sıfırdan yeniden oluşturabilir ya da bu denetimleri önceki öğreticide oluşturulan sayfadan (`Basics.aspx`) kopyalayabilir ve Bu öğreticinin sayfasına yapıştırabilirsiniz (`Formatting.aspx`).</span><span class="sxs-lookup"><span data-stu-id="37c1a-155">To accomplish this, you can either recreate the DataList and its ObjectDataSource from scratch, or you can copy over those controls from the page created in the previous tutorial (`Basics.aspx`) and paste them into the page for this tutorial (`Formatting.aspx`).</span></span>

<span data-ttu-id="37c1a-156">DataList ve ObjectDataSource işlevlerini `Basics.aspx` `Formatting.aspx`' den çoğaltdıktan sonra, DataList s `ID` özelliğini `DataList1` ' den daha açıklayıcı bir `ItemDataBoundFormattingExample`değiştirmek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="37c1a-156">Once you have replicated the DataList and ObjectDataSource functionality from `Basics.aspx` into `Formatting.aspx`, take a moment to change the DataList s `ID` property from `DataList1` to a more descriptive `ItemDataBoundFormattingExample`.</span></span> <span data-ttu-id="37c1a-157">Sonra, DataList 'i bir tarayıcıda görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="37c1a-157">Next, view the DataList in a browser.</span></span> <span data-ttu-id="37c1a-158">Şekil 1 ' de gösterildiği gibi, her ürün arasındaki tek biçimlendirme farkı, arka plan renginin farklı olduğundan emin olur.</span><span class="sxs-lookup"><span data-stu-id="37c1a-158">As Figure 1 shows, the only formatting difference between each product is that the background color alternates.</span></span>

<span data-ttu-id="37c1a-159">[![, DataList denetiminde listelenen ürünler](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image2.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="37c1a-159">[![The Products are Listed in the DataList Control](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image2.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="37c1a-160">**Şekil 1**: Ürünler DataList denetiminde listelenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="37c1a-160">**Figure 1**: The Products are Listed in the DataList Control ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image3.png))</span></span>

<span data-ttu-id="37c1a-161">Bu öğreticide, bir fiyata $20,00 ' dan düşük bir fiyata sahip olan tüm ürünlerin hem adı hem de birim fiyatı sarıya sahip olacağı şekilde DataList 'i biçimlendirmeye izin verin.</span><span class="sxs-lookup"><span data-stu-id="37c1a-161">For this tutorial, let s format the DataList such that any products with a price less than $20.00 will have both its name and unit price highlighted yellow.</span></span>

## <a name="step-2-programmatically-determining-the-value-of-the-data-in-the-itemdatabound-event-handler"></a><span data-ttu-id="37c1a-162">2\. Adım: program aracılığıyla ıtemveriye bağlı olay Işleyicisindeki verilerin değerini belirleme</span><span class="sxs-lookup"><span data-stu-id="37c1a-162">Step 2: Programmatically Determining the Value of the Data in the ItemDataBound Event Handler</span></span>

<span data-ttu-id="37c1a-163">Yalnızca $20,00 altında bir fiyata sahip olan ürünlere özel biçimlendirme uygulanmadığından, her ürün fiyatını belirleyebilmelidir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-163">Since only those products with a price under $20.00 will have the custom formatting applied, we must be able to determine each product s price.</span></span> <span data-ttu-id="37c1a-164">DataList 'e veri bağlarken DataList, veri kaynağındaki kayıtları numaralandırır ve her kayıt için, veri kaynağı kaydını `DataListItem`bağlayan bir `DataListItem` örneği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="37c1a-164">When binding data to a DataList, the DataList enumerates the records in its data source and, for each record, creates a `DataListItem` instance, binding the data source record to the `DataListItem`.</span></span> <span data-ttu-id="37c1a-165">Belirli kayıt s verileri geçerli `DataListItem` nesnesine bağladıktan sonra, DataList s `ItemDataBound` olayı tetiklenir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-165">After the particular record s data has been bound to the current `DataListItem` object, the DataList s `ItemDataBound` event is fired.</span></span> <span data-ttu-id="37c1a-166">Bu olay için geçerli `DataListItem` veri değerlerini incelemek üzere bir olay işleyicisi oluşturabilir ve bu değerlere bağlı olarak, gereken biçimlendirme değişikliklerini yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-166">We can create an event handler for this event to inspect the data values for the current `DataListItem` and, based upon those values, make any formatting changes necessary.</span></span>

<span data-ttu-id="37c1a-167">DataList için `ItemDataBound` bir olay oluşturun ve aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="37c1a-167">Create an `ItemDataBound` event for the DataList and add the following code:</span></span>

[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample1.cs)]

<span data-ttu-id="37c1a-168">DataList `ItemDataBound` olay işleyicisi 'nin arkasındaki kavram ve anlambilim, veri öğreticisine *bağlı olarak özel biçimlendirme* içindeki GridView s `RowDataBound` olay işleyicisi tarafından kullanılanlarla aynı olsa da, söz dizimi biraz farklılık gösterir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-168">While the concept and semantics behind the DataList s `ItemDataBound` event handler are the same as those used by the GridView s `RowDataBound` event handler in the *Custom Formatting Based Upon Data* tutorial, the syntax differs slightly.</span></span> <span data-ttu-id="37c1a-169">`ItemDataBound` olayı tetiklendiğinde, verilere yalnızca `DataListItem` bağlantılı olan `e.Item`, GridView s `RowDataBound` olay işleyicisi ile olduğu gibi `e.Row`yerine, ilgili olay işleyicisine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-169">When the `ItemDataBound` event fires, the `DataListItem` just bound to data is passed into corresponding event handler via `e.Item` (instead of `e.Row`, as with the GridView s `RowDataBound` event handler).</span></span> <span data-ttu-id="37c1a-170">DataList ' `ItemDataBound` olay işleyicisi, üst bilgi satırları, alt bilgi satırları ve ayırıcı satırları dahil olmak üzere DataList 'e eklenen *her* satır için ateşlenir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-170">The DataList s `ItemDataBound` event handler fires for *each* row added to the DataList, including header rows, footer rows, and separator rows.</span></span> <span data-ttu-id="37c1a-171">Ancak, ürün bilgileri yalnızca veri satırlarına bağlanır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-171">However, the product information is only bound to the data rows.</span></span> <span data-ttu-id="37c1a-172">Bu nedenle, DataList 'e bağlanan verileri incelemek için `ItemDataBound` olayını kullanırken, ilk olarak bir veri öğesiyle çalıştık olduğundan emin olunması gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-172">Therefore, when using the `ItemDataBound` event to inspect the data bound to the DataList, we need to first ensure that we re working with a data item.</span></span> <span data-ttu-id="37c1a-173">Bu, [aşağıdaki sekiz değerden](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listitemtype.aspx)birine sahip olabilen `DataListItem` s [`ItemType` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.itemtype.aspx)denetlenerek gerçekleştirilebilir:</span><span class="sxs-lookup"><span data-stu-id="37c1a-173">This can be accomplished by checking the `DataListItem` s [`ItemType` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.itemtype.aspx), which can have one of [the following eight values](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listitemtype.aspx):</span></span>

- `AlternatingItem`
- `EditItem`
- `Footer`
- `Header`
- `Item`
- `Pager`
- `SelectedItem`
- `Separator`

<span data-ttu-id="37c1a-174">Hem `Item` hem de `AlternatingItem``DataListItem`, DataList verileri öğelerini makeon.</span><span class="sxs-lookup"><span data-stu-id="37c1a-174">Both `Item` and `AlternatingItem``DataListItem` s makeup the DataList s data items.</span></span> <span data-ttu-id="37c1a-175">`Item` veya `AlternatingItem`ile çalıştık, geçerli `DataListItem`bağlanan gerçek `ProductsRow` örneğine erişeceğiz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-175">Assuming we re working with an `Item` or `AlternatingItem`, we access the actual `ProductsRow` instance that was bound to the current `DataListItem`.</span></span> <span data-ttu-id="37c1a-176">`DataListItem` s [`DataItem` özelliği](https://msdn.microsoft.com/system.web.ui.webcontrols.datalistitem.dataitem.aspx) , `Row` özelliği gerçek `ProductsRow` nesnesine bir başvuru sunan `DataRowView` nesnesine bir başvuru içerir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-176">The `DataListItem` s [`DataItem` property](https://msdn.microsoft.com/system.web.ui.webcontrols.datalistitem.dataitem.aspx) contains a reference to the `DataRowView` object, whose `Row` property provides a reference to the actual `ProductsRow` object.</span></span>

<span data-ttu-id="37c1a-177">Sonra, `ProductsRow` örnek s `UnitPrice` özelliğini denetliyoruz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-177">Next, we check the `ProductsRow` instance s `UnitPrice` property.</span></span> <span data-ttu-id="37c1a-178">Products tablosu `UnitPrice` alanı `NULL` değerlere izin verdiğinden, `UnitPrice` özelliğine erişmeyi denemeden önce, `IsUnitPriceNull()` yöntemini kullanarak bir `NULL` değeri olup olmadığını kontrol etmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-178">Since the Products table s `UnitPrice` field allows `NULL` values, before attempting to access the `UnitPrice` property we should first check to see if it has a `NULL` value using the `IsUnitPriceNull()` method.</span></span> <span data-ttu-id="37c1a-179">`UnitPrice` değer `NULL`değilse, daha sonra $20,00 ' den daha az olup olmadığını kontrol eteceğiz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-179">If the `UnitPrice` value is not `NULL`, we then check to see if it s less than $20.00.</span></span> <span data-ttu-id="37c1a-180">Gerçekten $20,00 altındaysa, özel biçimlendirmeyi uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-180">If it is indeed under $20.00, we then need to apply the custom formatting.</span></span>

## <a name="step-3-highlighting-the-product-s-name-and-price"></a><span data-ttu-id="37c1a-181">3\. Adım: ürün adı ve fiyatını vurgulama</span><span class="sxs-lookup"><span data-stu-id="37c1a-181">Step 3: Highlighting the Product s Name and Price</span></span>

<span data-ttu-id="37c1a-182">Bir ürün fiyatının $20,00 ' den küçük olduğunu öğrendikten sonra, bunların hepsi, adını ve fiyatını vurgulayabilmelidir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-182">Once we know that a product s price is less than $20.00, all that remains is to highlight its name and price.</span></span> <span data-ttu-id="37c1a-183">Bunu gerçekleştirmek için öncelikle ürün adı ve fiyatını görüntüleyen `ItemTemplate` etiket denetimlerine programlı bir şekilde başvurulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-183">To accomplish this, we must first programmatically reference the Label controls in the `ItemTemplate` that display the product s name and price.</span></span> <span data-ttu-id="37c1a-184">Ardından, bunların sarı bir arka plan görüntülemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-184">Next, we need to have them display a yellow background.</span></span> <span data-ttu-id="37c1a-185">Bu biçimlendirme bilgileri, Etiketler `BackColor` Özellikler (`LabelID.BackColor = Color.Yellow`) ile doğrudan değiştirilerek uygulanabilir. ideal olarak, görüntüleme ile ilgili tüm önemli bilgiler geçişli stil sayfaları ile ifade edilmelidir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-185">This formatting information can be applied by directly modifying the Labels `BackColor` properties (`LabelID.BackColor = Color.Yellow`); ideally, though, all display-related matters should be expressed through cascading stylesheets.</span></span> <span data-ttu-id="37c1a-186">Aslında, veri öğreticisine *bağlı olarak özel biçimlendirme* içinde oluşturulan ve bahsedilen `Styles.css` - `AffordablePriceEmphasis`tanımlanan biçimlendirme içeren bir stil sayfası zaten var.</span><span class="sxs-lookup"><span data-stu-id="37c1a-186">In fact, we already have a stylesheet that provides the desired formatting defined in `Styles.css` - `AffordablePriceEmphasis`, which was created and discussed in the *Custom Formatting Based Upon Data* tutorial.</span></span>

<span data-ttu-id="37c1a-187">Biçimlendirmeyi uygulamak için aşağıdaki kodda gösterildiği gibi, iki etiketli Web denetimlerini `CssClass` özellikleri `AffordablePriceEmphasis`olarak ayarlamanız yeterlidir:</span><span class="sxs-lookup"><span data-stu-id="37c1a-187">To apply the formatting, simply set the two Label Web controls `CssClass` properties to `AffordablePriceEmphasis`, as shown in the following code:</span></span>

[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample2.cs)]

<span data-ttu-id="37c1a-188">`ItemDataBound` olay işleyicisi tamamlandığında `Formatting.aspx` sayfasını bir tarayıcıda yeniden ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="37c1a-188">With the `ItemDataBound` event handler completed, revisit the `Formatting.aspx` page in a browser.</span></span> <span data-ttu-id="37c1a-189">Şekil 2 ' de gösterildiği gibi, $20,00 altındaki fiyata sahip olan ürünlerin hem adı hem de fiyatı vurgulanır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-189">As Figure 2 illustrates, those products with a price under $20.00 have both their name and price highlighted.</span></span>

<span data-ttu-id="37c1a-190">[$20,00 ' den küçük olan ürünler ![vurgulanır](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image5.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="37c1a-190">[![Those Products Less than $20.00 are Highlighted](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image5.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image4.png)</span></span>

<span data-ttu-id="37c1a-191">**Şekil 2**: $20,00 ' den küçük ürünler vurgulanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="37c1a-191">**Figure 2**: Those Products Less than $20.00 are Highlighted ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image6.png))</span></span>

> [!NOTE]
> <span data-ttu-id="37c1a-192">DataList bir HTML `<table>`olarak işlendiği için, `DataListItem` örnekleri, öğenin tamamına belirli bir stil uygulamak üzere ayarlanbilen stille ilgili özelliklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-192">Since the DataList is rendered as an HTML `<table>`, its `DataListItem` instances have style-related properties that can be set to apply a specific style to the entire item.</span></span> <span data-ttu-id="37c1a-193">Örneğin, fiyatı $20,00 ' den az olduğunda öğenin sarı *tamamını* vurgulamak Istiyorsam, etiketlere başvuran kodu değiştirmiş ve `CssClass` özelliklerini aşağıdaki kod satırıyla ayarlayabiliriz: `e.Item.CssClass = "AffordablePriceEmphasis"` (bkz. Şekil 3).</span><span class="sxs-lookup"><span data-stu-id="37c1a-193">For example, if we wanted to highlight the *entire* item yellow when its price was less than $20.00, we could have replaced the code that referenced the Labels and set their `CssClass` properties with the following line of code: `e.Item.CssClass = "AffordablePriceEmphasis"` (see Figure 3).</span></span>

<span data-ttu-id="37c1a-194">Yineleyicisi denetimini oluşturan `RepeaterItem` s, ancak bu tür stil düzeyi özellikleri sunmaz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-194">The `RepeaterItem` s that make up the Repeater control, however, don t offer such style-level properties.</span></span> <span data-ttu-id="37c1a-195">Bu nedenle, Yineleyici için özel biçimlendirme uygulamak, Şekil 2 ' de olduğu gibi, yineleyici s şablonları içindeki Web denetimlerine stil özellikleri uygulanmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-195">Therefore, applying custom formatting to the Repeater requires the application of style properties to the Web controls within the Repeater s templates, just like we did in Figure 2.</span></span>

<span data-ttu-id="37c1a-196">[![ürün öğesinin tamamı, $20,00 altındaki ürünler için vurgulanır](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image8.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="37c1a-196">[![The Entire Product Item is Highlighted for Products Under $20.00](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image8.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image7.png)</span></span>

<span data-ttu-id="37c1a-197">**Şekil 3**: tüm ürün öğesi $20,00 altındaki ürünler için vurgulanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="37c1a-197">**Figure 3**: The Entire Product Item is Highlighted for Products Under $20.00 ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image9.png))</span></span>

## <a name="using-formatting-functions-from-within-the-template"></a><span data-ttu-id="37c1a-198">Şablon Içinden biçimlendirme Işlevlerini kullanma</span><span class="sxs-lookup"><span data-stu-id="37c1a-198">Using Formatting Functions from Within the Template</span></span>

<span data-ttu-id="37c1a-199">*GridView denetim öğreticisindeki TemplateFields kullanarak* , GridView s satırlarıyla bağlantılı verilere göre özel biçimlendirme uygulamak Için bir GridView TemplateField içinde biçimlendirme işlevinin nasıl kullanılacağını gördük.</span><span class="sxs-lookup"><span data-stu-id="37c1a-199">In the *Using TemplateFields in the GridView Control* tutorial we saw how to use a formatting function within a GridView TemplateField to apply custom formatting based upon the data bound to the GridView s rows.</span></span> <span data-ttu-id="37c1a-200">Biçimlendirme işlevi, bir şablondan çağrılabilen ve onun yerine yayınlanılacak HTML döndüren bir yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-200">A formatting function is a method that can be invoked from a template and returns the HTML to be emitted in its place.</span></span> <span data-ttu-id="37c1a-201">Biçimlendirme işlevleri ASP.NET Page s kod arkasında bulunabilir veya `App_Code` klasöründe veya ayrı bir sınıf kitaplığı projesinde sınıf dosyalarında merkezi hale getirilmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-201">Formatting functions can reside in the ASP.NET page s code-behind class or can be centralized into class files in the `App_Code` folder or in a separate Class Library project.</span></span> <span data-ttu-id="37c1a-202">Biçimlendirme işlevini ASP.NET Page s Code-Behind sınıfından taşımak, birden çok ASP.NET sayfasında veya diğer ASP.NET Web uygulamalarında aynı biçimlendirme işlevini kullanmayı planlıyorsanız idealdir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-202">Moving the formatting function out of the ASP.NET page s code-behind class is ideal if you plan on using the same formatting function in multiple ASP.NET pages or in other ASP.NET web applications.</span></span>

<span data-ttu-id="37c1a-203">Biçimlendirme işlevlerini göstermek için, ürün bilgileri ürün bilgilerinin yanında, ürün adı ' nın yanında [DISCONTINUED] metin içermesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="37c1a-203">To demonstrate formatting functions, let s have the product information include the text [DISCONTINUED] next to the product s name if it s discontinued.</span></span> <span data-ttu-id="37c1a-204">Ayrıca, $20,00 ' den küçük bir fiyata (`ItemDataBound` olay işleyicisi örneğinde yaptığımız gibi) sahip olmanız gerekir; Fiyat $20,00 veya daha yüksekse, gerçek fiyatı göstermemelidir, ancak bunun yerine metin olarak bir fiyat teklifi arayın.</span><span class="sxs-lookup"><span data-stu-id="37c1a-204">Also, let s have the price highlighted yellow if it s less than $20.00 (as we did in the `ItemDataBound` event handler example); if the price is $20.00 or higher, let s not display the actual price, but instead the text, Please call for a price quote.</span></span> <span data-ttu-id="37c1a-205">Şekil 4 ' te, bu biçimlendirme kuralları uygulanmış ürünlerin listesinin ekran görüntüsü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-205">Figure 4 shows a screen shot of the products listing with these formatting rules applied.</span></span>

<span data-ttu-id="37c1a-206">[Pahalı ürünler Için ![Fiyat, metin ile, bir fiyat teklifi için çağrı ile değiştirilmiştir](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image11.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="37c1a-206">[![For Expensive Products, the Price is Replaced with the Text, Please call for a price quote](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image11.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image10.png)</span></span>

<span data-ttu-id="37c1a-207">**Şekil 4**: pahalı ürünler için Fiyat, metin ile değiştirilmiştir, lütfen bir fiyat teklifini arayın ([tam boyutlu görüntüyü görüntülemek için tıklayın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="37c1a-207">**Figure 4**: For Expensive Products, the Price is Replaced with the Text, Please call for a price quote ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image12.png))</span></span>

## <a name="step-1-create-the-formatting-functions"></a><span data-ttu-id="37c1a-208">1\. Adım: biçimlendirme Işlevlerini oluşturma</span><span class="sxs-lookup"><span data-stu-id="37c1a-208">Step 1: Create the Formatting Functions</span></span>

<span data-ttu-id="37c1a-209">Bu örnekte, bir tane olmak üzere iki biçimlendirme işlevi gerekir, biri, ürün adını, gerekirse metin ile ve $20,00 ' den az veya metin olduğunda vurgulanan bir fiyat görüntüleyen başka bir fiyat teklifi için çağırın.</span><span class="sxs-lookup"><span data-stu-id="37c1a-209">For this example we need two formatting functions, one that displays the product name along with the text [DISCONTINUED], if needed, and another that displays either a highlighted price if it s less than $20.00, or the text, Please call for a price quote otherwise.</span></span> <span data-ttu-id="37c1a-210">Bu işlevleri ASP.NET Page s arka plan kod sınıfında oluşturalım ve `DisplayProductNameAndDiscontinuedStatus` ve `DisplayPrice`olarak adlandırma.</span><span class="sxs-lookup"><span data-stu-id="37c1a-210">Let s create these functions in the ASP.NET page s code-behind class and name them `DisplayProductNameAndDiscontinuedStatus` and `DisplayPrice`.</span></span> <span data-ttu-id="37c1a-211">Her iki yöntemin de bir dize olarak işlenmesi için HTML döndürmesi ve ASP.NET Page s bildirime dayalı sözdizimi bölümünden çağrılması için `Protected` (veya `Public`) olarak işaretlenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-211">Both methods need to return the HTML to render as a string and both need to be marked `Protected` (or `Public`) in order to be invoked from the ASP.NET page s declarative syntax portion.</span></span> <span data-ttu-id="37c1a-212">Bu iki yöntemin kodu aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="37c1a-212">The code for these two methods follows:</span></span>

[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample3.cs)]

<span data-ttu-id="37c1a-213">`DisplayProductNameAndDiscontinuedStatus` yöntemi, `productName` ve `discontinued` veri alanlarının değerlerini skaler değerler olarak kabul eder, ancak `DisplayPrice` yöntemi bir `ProductsRow` skalar değer yerine bir `unitPrice` örneği kabul eder.</span><span class="sxs-lookup"><span data-stu-id="37c1a-213">Note that the `DisplayProductNameAndDiscontinuedStatus` method accepts the values of the `productName` and `discontinued` data fields as scalar values, whereas the `DisplayPrice` method accepts a `ProductsRow` instance (rather than a `unitPrice` scalar value).</span></span> <span data-ttu-id="37c1a-214">Her iki yaklaşım da çalışacaktır; Ancak, biçimlendirme işlevi, veritabanı `NULL` değerleri içerebilen skaler değerlerle çalışıyorsa (`UnitPrice`gibi, ne `ProductName` ne de `Discontinued` izin `NULL` ver), bu skaler girdileri işlemek için özel dikkatli olunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-214">Either approach will work; however, if the formatting function is working with scalar values that can contain database `NULL` values (such as `UnitPrice`; neither `ProductName` nor `Discontinued` allow `NULL` values), special care must be taken in handling these scalar inputs.</span></span>

<span data-ttu-id="37c1a-215">Özellikle, gelen değer beklenen veri türü yerine `DBNull` bir örnek olabileceğinden, giriş parametresi `Object` türünde olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-215">In particular, the input parameter must be of type `Object` since the incoming value might be a `DBNull` instance instead of the expected data type.</span></span> <span data-ttu-id="37c1a-216">Ayrıca, gelen değerin bir veritabanı `NULL` değeri olup olmadığını belirlemekte bir denetim yapılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-216">Additionally, a check must be made to determine whether or not the incoming value is a database `NULL` value.</span></span> <span data-ttu-id="37c1a-217">Diğer bir deyişle, `DisplayPrice` yönteminin fiyatı skaler bir değer olarak kabul etmesini istediyseniz, aşağıdaki kodu kullanmak zorunda olduğumuz:</span><span class="sxs-lookup"><span data-stu-id="37c1a-217">That is, if we wanted the `DisplayPrice` method to accept the price as a scalar value, we d have to use the following code:</span></span>

[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample4.cs)]

<span data-ttu-id="37c1a-218">`unitPrice` giriş parametresinin `Object` türünde olduğunu ve koşullu deyimin `unitPrice` `DBNull` olması durumunda ascermesi olarak değiştirildiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="37c1a-218">Note that the `unitPrice` input parameter is of type `Object` and that the conditional statement has been modified to ascertain if `unitPrice` is `DBNull` or not.</span></span> <span data-ttu-id="37c1a-219">Ayrıca, `unitPrice` giriş parametresi bir `Object`olarak geçirildiğinden, bunun ondalık bir değere dönüştürülmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-219">Furthermore, since the `unitPrice` input parameter is passed in as an `Object`, it must be cast to a decimal value.</span></span>

## <a name="step-2-calling-the-formatting-function-from-the-datalist-s-itemtemplate"></a><span data-ttu-id="37c1a-220">2\. Adım: DataList s ItemTemplate 'ten biçimlendirme Işlevini çağırma</span><span class="sxs-lookup"><span data-stu-id="37c1a-220">Step 2: Calling the Formatting Function from the DataList s ItemTemplate</span></span>

<span data-ttu-id="37c1a-221">Biçimlendirme işlevleri ASP.NET Page s Code-Behind sınıfına eklendikten sonra, bu biçimlendirme işlevlerini DataList `ItemTemplate`' den çağırmalar.</span><span class="sxs-lookup"><span data-stu-id="37c1a-221">With the formatting functions added to our ASP.NET page s code-behind class, all that remains is to invoke these formatting functions from the DataList s `ItemTemplate`.</span></span> <span data-ttu-id="37c1a-222">Bir şablondan biçimlendirme işlevini çağırmak için, işlev çağrısını veri bağlama söz dizimi içine yerleştirin:</span><span class="sxs-lookup"><span data-stu-id="37c1a-222">To call a formatting function from a template, place the function call within the databinding syntax:</span></span>

[!code-aspx[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample5.aspx)]

<span data-ttu-id="37c1a-223">DataList s `ItemTemplate` `ProductNameLabel` etiketi Web denetimi şu anda `Text` özelliğini `<%# Eval("ProductName") %>`sonucunu atayarak ürün s adını görüntülüyor.</span><span class="sxs-lookup"><span data-stu-id="37c1a-223">In the DataList s `ItemTemplate` the `ProductNameLabel` Label Web control currently displays the product s name by assigning its `Text` property the result of `<%# Eval("ProductName") %>`.</span></span> <span data-ttu-id="37c1a-224">Bu durumda, adı ve [DISCONTINUED] metnini göstermek için, bildirim temelli sözdizimini, `Text` özelliğini `DisplayProductNameAndDiscontinuedStatus` yönteminin değerine atayacağı şekilde güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="37c1a-224">In order to have it display the name plus the text [DISCONTINUED], if needed, update the declarative syntax so that it instead assigns the `Text` property the value of the `DisplayProductNameAndDiscontinuedStatus` method.</span></span> <span data-ttu-id="37c1a-225">Bunu yaparken, `Eval("columnName")` sözdizimini kullanarak ürün adı ve Discontinued değerlerini geçirmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-225">When doing so, we must pass in the product s name and discontinued values using the `Eval("columnName")` syntax.</span></span> <span data-ttu-id="37c1a-226">`Eval` `Object`türünde bir değer döndürür, ancak `DisplayProductNameAndDiscontinuedStatus` yöntemi `String` ve `Boolean`türünde giriş parametrelerini bekler; Bu nedenle, `Eval` yönteminin döndürdüğü değerleri beklenen giriş parametresi türlerine (şöyle) atamalısınız:</span><span class="sxs-lookup"><span data-stu-id="37c1a-226">`Eval` returns a value of type `Object`, but the `DisplayProductNameAndDiscontinuedStatus` method expects input parameters of type `String` and `Boolean`; therefore, we must cast the values returned by the `Eval` method to the expected input parameter types, like so:</span></span>

[!code-aspx[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample6.aspx)]

<span data-ttu-id="37c1a-227">Fiyatı görüntülemek için, yalnızca ürün adı ve [DISCONTINUED] metnini görüntüleme yaptığımız gibi, `UnitPriceLabel` etiket s `Text` özelliğini `DisplayPrice` yönteminin döndürdüğü değere ayarlayabiliriz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-227">To display the price, we can simply set the `UnitPriceLabel` Label s `Text` property to the value returned by the `DisplayPrice` method, just like we did for displaying the product s name and [DISCONTINUED] text.</span></span> <span data-ttu-id="37c1a-228">Ancak, `UnitPrice` skaler giriş parametresi olarak geçirmek yerine, tüm `ProductsRow` örneğini geçeceğiz:</span><span class="sxs-lookup"><span data-stu-id="37c1a-228">However, instead of passing in the `UnitPrice` as a scalar input parameter, we instead pass in the entire `ProductsRow` instance:</span></span>

[!code-aspx[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample7.aspx)]

<span data-ttu-id="37c1a-229">Biçimlendirme işlevlerine yapılan çağrılar sayesinde, ilerleme durumunu tarayıcıda görüntülemek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="37c1a-229">With the calls to the formatting functions in place, take a moment to view our progress in a browser.</span></span> <span data-ttu-id="37c1a-230">Ekranınızda Şekil 5 ' e benzer bir şekilde, "DISCONTINUED] metni de dahil olmak üzere, ücretlendirilmesi gereken ürünler ile $20,00 ' den fazla maliyetten daha fazla ücret ödemelidir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-230">Your screen should look similar to Figure 5, with the discontinued products including the text [DISCONTINUED] and those products costing more than $20.00 having their price replaced with the text Please call for a price quote .</span></span>

<span data-ttu-id="37c1a-231">[Pahalı ürünler Için ![Fiyat, metin ile, bir fiyat teklifi için çağrı ile değiştirilmiştir](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image14.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="37c1a-231">[![For Expensive Products, the Price is Replaced with the Text, Please call for a price quote](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image14.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image13.png)</span></span>

<span data-ttu-id="37c1a-232">**Şekil 5**: pahalı ürünler için Fiyat, metin ile değiştirilmiştir, lütfen bir fiyat teklifini arayın ([tam boyutlu görüntüyü görüntülemek için tıklayın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="37c1a-232">**Figure 5**: For Expensive Products, the Price is Replaced with the Text, Please call for a price quote ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image15.png))</span></span>

## <a name="summary"></a><span data-ttu-id="37c1a-233">Özet</span><span class="sxs-lookup"><span data-stu-id="37c1a-233">Summary</span></span>

<span data-ttu-id="37c1a-234">Verileri temel alan DataList veya Repeater denetiminin içeriğini biçimlendirmek iki teknik kullanılarak gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-234">Formatting the contents of a DataList or Repeater control based upon the data can be accomplished using two techniques.</span></span> <span data-ttu-id="37c1a-235">İlk yöntem, veri kaynağındaki her bir kayıt yeni bir `DataListItem` veya `RepeaterItem`bağlantılı olduğundan harekete `ItemDataBound` olayı için bir olay işleyicisi oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-235">The first technique is to create an event handler for the `ItemDataBound` event, which fires as each record in the data source is bound to a new `DataListItem` or `RepeaterItem`.</span></span> <span data-ttu-id="37c1a-236">`ItemDataBound` olay işleyicisinde, geçerli öğe verileri incelenebilir ve sonra biçimlendirme şablonun içeriğine veya `DataListItem` s için öğenin tamamına uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-236">In the `ItemDataBound` event handler, the current item s data can be examined and then formatting can be applied to the contents of the template or, for `DataListItem` s, to the entire item itself.</span></span>

<span data-ttu-id="37c1a-237">Alternatif olarak, biçimlendirme işlevleri aracılığıyla özel biçimlendirme gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-237">Alternatively, custom formatting can be realized through formatting functions.</span></span> <span data-ttu-id="37c1a-238">Biçimlendirme işlevi, yerinde göstermek için HTML döndüren DataList veya Repeater s şablonlarından çağrılabilen bir yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-238">A formatting function is a method that can be invoked from the DataList or Repeater s templates that returns the HTML to emit in its place.</span></span> <span data-ttu-id="37c1a-239">Genellikle, biçimlendirme işlevi tarafından döndürülen HTML, geçerli öğeye bağlanmakta olan değerlere göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-239">Often, the HTML returned by a formatting function is determined by the values being bound to the current item.</span></span> <span data-ttu-id="37c1a-240">Bu değerler, skaler değerler olarak veya öğeye bağlanmakta olan nesnenin tamamına (`ProductsRow` örneği gibi) geçirerek biçimlendirme işlevine geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="37c1a-240">These values can be passed into the formatting function, either as scalar values or by passing in the entire object being bound to the item (such as the `ProductsRow` instance).</span></span>

<span data-ttu-id="37c1a-241">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="37c1a-241">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="37c1a-242">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="37c1a-242">About the Author</span></span>

<span data-ttu-id="37c1a-243">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="37c1a-243">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="37c1a-244">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="37c1a-244">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="37c1a-245">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="37c1a-245">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="37c1a-246">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="37c1a-246">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="37c1a-247">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="37c1a-247">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="37c1a-248">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="37c1a-248">Special Thanks To</span></span>

<span data-ttu-id="37c1a-249">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="37c1a-249">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="37c1a-250">Bu öğreticide lider gözden geçirenler Yaakov Ellis, Randy SCHMIDT ve Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="37c1a-250">Lead reviewers for this tutorial were Yaakov Ellis, Randy Schmidt, and Liz Shulok.</span></span> <span data-ttu-id="37c1a-251">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="37c1a-251">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="37c1a-252">Öyleyse, benimitchell@4GuysFromRolla.combir satır bırakın [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="37c1a-252">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="37c1a-253">[Önceki](displaying-data-with-the-datalist-and-repeater-controls-cs.md)
> [İleri](showing-multiple-records-per-row-with-the-datalist-control-cs.md)</span><span class="sxs-lookup"><span data-stu-id="37c1a-253">[Previous](displaying-data-with-the-datalist-and-repeater-controls-cs.md)
[Next](showing-multiple-records-per-row-with-the-datalist-control-cs.md)</span></span>
